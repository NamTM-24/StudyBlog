<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/style.css" />
    <title>Đặt lại mật khẩu</title>
  </head>
  <body>
    <section>
      <!-- Hiệu ứng lá rơi -->
      <div class="leaves">
        <div class="set">
          <div><img src="/images/leaf_01.png" /></div>
          <div><img src="/images/leaf_02.png" /></div>
          <div><img src="/images/leaf_03.png" /></div>
          <div><img src="/images/leaf_04.png" /></div>
          <div><img src="/images/leaf_01.png" /></div>
          <div><img src="/images/leaf_02.png" /></div>
          <div><img src="/images/leaf_03.png" /></div>
          <div><img src="/images/leaf_04.png" /></div>
        </div>
      </div>
      <!-- Ảnh nền -->
      <img src="/images/bg.jpg" class="bg" />
      <!-- Ảnh cô gái -->
      <img src="/images/girl.png" class="girl" />
      <!-- Ảnh cây -->
      <img src="/images/trees.png" class="trees" />
      <!-- Form đặt lại mật khẩu -->
      <div class="login">
        <h2>Đặt lại mật khẩu</h2>

        <% if (typeof success !== 'undefined' && success) { %>
        <div
          style="
            background: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            text-align: center;
            border: 1px solid #c3e6cb;
          "
        >
          <strong>Thành công!</strong><br />
          <%= success %> <% if (typeof message !== 'undefined' && message) { %>
          <br /><%= message %> <% } %> <br /><br />
          <a
            href="/login"
            style="
              background: #28a745;
              color: white;
              padding: 8px 16px;
              text-decoration: none;
              border-radius: 4px;
            "
            >Đăng nhập ngay</a
          >
        </div>
        <% } else { %> <% if (typeof token !== 'undefined' && token) { %>
        <div
          style="
            background: #d1ecf1;
            color: #0c5460;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            text-align: center;
            border: 1px solid #bee5eb;
          "
        >
          <strong>Mã xác nhận hợp lệ!</strong><br />
          Vui lòng nhập mật khẩu mới của bạn.
        </div>
        <% } %> <% if (typeof error !== 'undefined' && error) { %>
        <div
          style="
            background: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            text-align: center;
            border: 1px solid #f5c6cb;
          "
        >
          <strong>Lỗi!</strong><br />
          <%= error %>
        </div>
        <% } %>

        <form action="/reset-password" method="POST">
          <input type="hidden" name="token" value="<%= token %>" />
          <div class="inputBox">
            <input
              type="password"
              name="newPassword"
              placeholder="Mật khẩu mới"
              required
            />
          </div>
          <div class="inputBox">
            <input
              type="password"
              name="confirmPassword"
              placeholder="Nhập lại mật khẩu mới"
              required
            />
          </div>
          <div class="inputBox">
            <input type="submit" value="Xác nhận" id="btn" />
          </div>
        </form>
        <% } %>

        <div class="group">
          <a href="/login">Quay lại đăng nhập</a>
          <a href="/register">Đăng ký</a>
        </div>
      </div>
    </section>
  </body>
</html>
